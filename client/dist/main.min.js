!function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(n,t,e){var r;r=angular.module("florentindubois.kraken",["ngAria","ngAnimate","ngMaterial","ngMessages","ngRoute","ngSanitize","pascalprecht.translate"]),r.config(["$routeProvider",function(n){var t,e,r;r=[{path:"/fs",controller:"fs",templateUrl:"views/fs.jade"},{path:"/manage-account",controller:"manageAccount",templateUrl:"views/manage-account.jade"}];for(t in r)e=r[t],n.when(e.path,{controller:"kraken."+e.controller,templateUrl:e.templateUrl});n.otherwise("/fs")}]),r.config(["$mdThemingProvider",function(n){return n.theme("default").primaryPalette("blue-grey",{"default":"800"}).accentPalette("pink").warnPalette("red")}]),r.config(["$translateProvider",function(n){var t,r,o,u;for(o=["en"],t=0,u=o.length;u>t;t++)r=o[t],n.translations(r,e(2)("./"+r+".lang.json"));return n.useSanitizeValueStrategy(null),n.preferredLanguage("en"),n.fallbackLanguage("en")}]),r.controller("kraken.fs",[function(){}]),r.controller("kraken.login",["$scope","$user","$logger","$translate","$window","$timeout",function(n,t,e,r,o,u){n.login={},n.submit=function(){return t.login(n.login.username,n.login.password,function(n,t){return null!=n?e.error(n.mmessage):t.connected?r("login.success").then(function(n){return e.info(n),u(function(){return o.location.assign(t.redirect)},1e3)}):r("login.wrong").then(function(n){return e.error(n)})}),!1}}]),r.controller("kraken.manageAccount",[function(){}]),r.controller("kraken.navigation",["$scope","$user","$window","$sidenav","$mdSidenav",function(n,t,e,r,o){n.menu=[],n.signets=[],n.openSidenav=function(){return o("left").toggle()},n.exit=function(){return t.logout(function(n,t){return null==n&&null!=t.redirect?e.location.assign(t.redirect):void 0})}}]),r.filter("bytes",[function(){return function(n,t){var e,r;return null==t&&(t=1),n&&(r=["o","Ko","Mo","Go","To","Po"],e=Math.floor(Math.log(n)/Math.log(1024)),n=(n/Math.pow(1024,Math.floor(e))).toFixed(t)+" "+r[e]),n}}]),r.filter("lower",[function(){return function(n){return null!=n&&(n=n.toLowerCase()),n}}]),r.filter("truncate",[function(){return function(n,t){return null==t&&(t=40),null!=n&&(n=n.substring(0,t-3)+"..."),n}}]),r.filter("ucfirst",[function(){return function(n){return null!=n&&(n=""+n.charAt(0).toUpperCase()+n.substring(1)),n}}]),r.filter("upper",[function(){return function(n){return null!=n&&(n=n.toUpperCase()),n}}]),r.run(["$rootScope","$location","$user","$translate","$logger",function(n,t,e,r,o){var u;u=[],n.$on("$routeChangeStart",function(){return-1!==u.indexOf(t.path())?e.isAdministrator(function(n,e){return null!=n||e.administrator?void 0:r("request.notAuthorized").then(function(n){return o.error(n),t.path("/fs")})}):void 0})}]),r.service("$logger",["$mdToast",function(n){this.info=function(t){return n.show(n.simple().textContent(t))},this.warn=function(t){return n.show(n.simple().textContent(t))},this.error=function(t){return n.show(n.simple().textContent(t))}}]),r.service("$request",["$http","$logger","$translate",function(n,t,e){var r;r=function(n,r){return 403===n.status?e("request.notAuthorized").then(function(n){return t.error(n),r(new Error(n))}):404===n.status?e("request.notFound").then(function(n){return t.error(n),r(new Error(n))}):e("request.failure").then(function(n){return t.error(n),r(new Error(n))})},this.get=function(t,e){return n.get(t).then(function(n){return e(null,n.data)},function(n){return r(n,e)})},this.post=function(t,e,o){return n.post(t,e).then(function(n){return o(null,n.data)},function(n){return r(n,o)})},this.put=function(t,e,o){return n.put(t,e).then(function(n){return o(null,n.data)},function(n){return r(n,o)})},this.patch=function(t,e,o){return n.patch(t,e).then(function(n){return o(null,n.data)},function(n){return r(n,o)})},this["delete"]=function(t,e){return n["delete"](t).then(function(n){return e(null,n.data)},function(n){return r(n,e)})}}]),r.service("$sidenav",["$request",function(n){}]),r.service("$user",["$request",function(n){this.get=function(t,e){return n.get("/users/"+t,e)},this.update=function(t,e){return n.put("/users/"+t._id,data,e)},this["delete"]=function(t,e){return n["delete"]("/users/"+t,e)},this.getAll=function(t){return n.get("/users",t)},this.isLog=function(t){return n.get("/log",t)},this.login=function(t,e,r){return n.post("/log",{username:t,password:e},r)},this.logout=function(t){return n["delete"]("/log",t)},this.isAdministrator=function(t){return n.get("/administrator",t)}}])},function(n,t,e){function r(n){return e(o(n))}function o(n){return u[n]||function(){throw new Error("Cannot find module '"+n+"'.")}()}var u={"./en.lang.json":3};r.keys=function(){return Object.keys(u)},r.resolve=o,n.exports=r,r.id=2},function(n,t){n.exports={app:{name:"Kraken"},request:{failure:"Request failure",notAuthorized:"Your are not authorized to perform this action",notFound:"Request document is not found"},login:{send:"Sign in",username:"Username",password:"Password",success:"Successfully connected",wrong:"Wrong password or username",error:{required:"This field is required"}},toolbar:{exit:"Exit"}}}]);